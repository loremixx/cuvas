<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Çuvaşça İyelik Eki Çekimleyici</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .description {
            color: #7f8c8d;
            font-size: 1.1rem;
        }
        
        .input-section {
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        input[type="text"], select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input[type="text"]:focus, select:focus {
            border-color: #3498db;
            outline: none;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        input[type="checkbox"] {
            width: 20px;
            height: 20px;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: background-color 0.3s;
            width: 100%;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .result-section {
            margin-top: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 5px;
            display: none;
        }
        
        .result-section h2 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .result {
            font-size: 1.2rem;
            font-weight: bold;
            color: #27ae60;
            margin-bottom: 10px;
        }
        
        .explanation {
            color: #7f8c8d;
            font-style: italic;
        }
        
        .person-codes {
            background-color: #e8f4fc;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
        }
        
        .person-codes h3 {
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .code-item {
            display: flex;
            margin-bottom: 5px;
        }
        
        .code {
            font-weight: bold;
            width: 60px;
            color: #3498db;
        }
        
        .code-description {
            flex: 1;
        }
        
        footer {
            margin-top: 30px;
            text-align: center;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Çuvaşça İyelik Eki Çekimleyici</h1>
            <p class="description">Çuvaşça kelimelerin iyelik eklerini çekimlemek için bu aracı kullanın</p>
        </header>
        
        <section class="input-section">
            <div class="form-group">
                <label for="word">Çuvaşça Kelime:</label>
                <input type="text" id="word" placeholder="Örnek: ача, пулӑ, хӗр">
            </div>
            
            <div class="form-group">
                <label for="person">Şahıs:</label>
                <select id="person">
                    <option value="1sg">1. Tekil Şahıs (benim)</option>
                    <option value="2sg">2. Tekil Şahıs (senin)</option>
                    <option value="3sg">3. Tekil Şahıs (onun)</option>
                    <option value="1pl">1. Çoğul Şahıs (bizim)</option>
                    <option value="2pl">2. Çoğul Şahıs (sizin)</option>
                    <option value="3pl">3. Çoğul Şahıs (onların)</option>
                </select>
            </div>
            
            <div class="form-group">
                <div class="checkbox-group">
                    <input type="checkbox" id="plural">
                    <label for="plural">Çoğul yap</label>
                </div>
            </div>
            
            <button id="conjugate-btn">Çekimle</button>
        </section>
        
        <section class="result-section" id="result-section">
            <h2>Sonuç</h2>
            <div class="result" id="result"></div>
            <div class="explanation" id="explanation"></div>
        </section>
        
        <div class="person-codes">
            <h3>Şahıs Kodları Açıklaması</h3>
            <div class="code-item">
                <div class="code">1sg</div>
                <div class="code-description">1. tekil şahıs (benim)</div>
            </div>
            <div class="code-item">
                <div class="code">2sg</div>
                <div class="code-description">2. tekil şahıs (senin)</div>
            </div>
            <div class="code-item">
                <div class="code">3sg</div>
                <div class="code-description">3. tekil şahıs (onun)</div>
            </div>
            <div class="code-item">
                <div class="code">1pl</div>
                <div class="code-description">1. çoğul şahıs (bizim)</div>
            </div>
            <div class="code-item">
                <div class="code">2pl</div>
                <div class="code-description">2. çoğul şahıs (sizin)</div>
            </div>
            <div class="code-item">
                <div class="code">3pl</div>
                <div class="code-description">3. çoğul şahıs (onların)</div>
            </div>
        </div>
        
        <footer>
            <p>Çuvaşça İyelik Eki Çekimleyici | Esma Aydın </p>
        </footer>
    </div>

    <script>
        // Python kodunun JavaScript uyarlaması
        const VOWELS = new Set(['а', 'ӑ', 'ы', 'у', 'э', 'ӗ', 'и', 'ӳ']);
        const CONSONANTS = new Set(['й', 'ц', 'к', 'н', 'г', 'ш', 'щ', 'з', 'х', 'ф', 'в', 'п', 'р', 'л', 'д', 'ж', 'ч', 'с', 'м', 'т', 'б', 'ю', 'я']);
        const BACK_VOWELS = new Set(['а', 'ӑ', 'ы', 'у']);
        const FRONT_VOWELS = new Set(['э', 'ӗ', 'и', 'ӳ']);

        function getVowelHarmony(word) {
            for (let i = word.length - 1; i >= 0; i--) {
                const char = word[i];
                if (BACK_VOWELS.has(char)) return 'back';
                if (FRONT_VOWELS.has(char)) return 'front';
            }
            return 'back';
        }

        function getLastLetterType(word) {
            if (!word) return 'consonant';
            return VOWELS.has(word[word.length - 1]) ? 'vowel' : 'consonant';
        }

        function hasSingleConsonantBeforeĂĔ(word) {
            if (word.length >= 2 && (word[word.length - 1] === 'ӑ' || word[word.length - 1] === 'ӗ')) {
                if (CONSONANTS.has(word[word.length - 2])) {
                    let vowelCount = 0;
                    for (const char of word) {
                        if (VOWELS.has(char)) vowelCount++;
                    }
                    return vowelCount >= 2;
                }
            }
            return false;
        }

        function addFirstSingularPossessive(word) {
            if (!word) return word;
            
            const harmony = getVowelHarmony(word);
            const lastChar = word[word.length - 1];
            
            if (lastChar === 'у' || lastChar === 'ӳ') {
                return word.slice(0, -1) + (harmony === 'back' ? 'ӑвӑм' : 'ӗвӗм');
            }
            
            if (hasSingleConsonantBeforeĂĔ(word)) {
                const consonant = word[word.length - 2];
                const stem = word.slice(0, -2) + consonant + consonant;
                return stem + word[word.length - 1] + 'м';
            }
            
            if (getLastLetterType(word) === 'consonant') {
                return word + (harmony === 'back' ? 'ӑм' : 'ӗм');
            }
            
            return word + 'м';
        }

        function addSecondSingularPossessive(word) {
            if (!word) return word;
            
            const harmony = getVowelHarmony(word);
            const lastChar = word[word.length - 1];
            const suffix = harmony === 'back' ? 'у' : 'ӳ';
            
            if (lastChar === 'а' || lastChar === 'э') {
                return word.slice(0, -1) + suffix;
            }
            
            if (hasSingleConsonantBeforeĂĔ(word)) {
                const consonant = word[word.length - 2];
                const stem = word.slice(0, -2) + consonant + consonant;
                return stem + suffix;
            }
            
            return word + suffix;
        }

        function addThirdSingularPossessive(word) {
            if (!word) return word;
            
            const harmony = getVowelHarmony(word);
            const lastChar = word[word.length - 1];
            
            if (lastChar === 'т' || lastChar === 'д') {
                return word.slice(0, -1) + 'чӗ';
            }
            
            if (lastChar === 'у' || lastChar === 'ӳ') {
                return word.slice(0, -1) + (harmony === 'back' ? 'ӑвӗ' : 'ӗвӗ');
            }
            
            if (lastChar === 'и') {
                return word + 'йӗ';
            }
            
            if (lastChar === 'а' || lastChar === 'э' || lastChar === 'ӑ' || lastChar === 'ӗ') {
                if ((lastChar === 'ӑ' || lastChar === 'ӗ') && hasSingleConsonantBeforeĂĔ(word)) {
                    const consonant = word[word.length - 2];
                    const stem = word.slice(0, -2) + consonant + consonant;
                    return stem + 'ӗ';
                } else {
                    return word.slice(0, -1) + 'ӗ';
                }
            }
            
            return word + 'ӗ';
        }

        function addFirstPluralPossessive(word) {
            if (!word) return word;
            
            const harmony = getVowelHarmony(word);
            const lastChar = word[word.length - 1];
            
            if (lastChar === 'у' || lastChar === 'ӳ') {
                return word.slice(0, -1) + (harmony === 'back' ? 'ӑвӑмӑр' : 'ӗвӗмӗр');
            }
            
            if (hasSingleConsonantBeforeĂĔ(word)) {
                const consonant = word[word.length - 2];
                const stem = word.slice(0, -2) + consonant + consonant;
                return harmony === 'back' ? stem + word[word.length - 1] + 'мӑр' : stem + word[word.length - 1] + 'мӗр';
            }
            
            if (getLastLetterType(word) === 'consonant') {
                return word + (harmony === 'back' ? 'ӑмӑр' : 'ӗмӗр');
            }
            
            return word + (harmony === 'back' ? 'мӑр' : 'мӗр');
        }

        function addSecondPluralPossessive(word) {
            if (!word) return word;
            
            const harmony = getVowelHarmony(word);
            const lastChar = word[word.length - 1];
            
            if (lastChar === 'у' || lastChar === 'ӳ') {
                return word.slice(0, -1) + (harmony === 'back' ? 'ӑвӑр' : 'ӗвӗр');
            }
            
            if (hasSingleConsonantBeforeĂĔ(word)) {
                const consonant = word[word.length - 2];
                const stem = word.slice(0, -2) + consonant + consonant;
                return harmony === 'back' ? stem + 'ӑр' : stem + 'ӗр';
            }
            
            if (getLastLetterType(word) === 'consonant') {
                return word + (harmony === 'back' ? 'ӑр' : 'ӗр');
            }
            
            return word + 'р';
        }

        function addThirdPluralPossessive(word) {
            return addThirdSingularPossessive(word);
        }

        function addPluralSuffix(word) {
            return word + 'сем';
        }

        function conjugateChuvash(word, person, plural = false) {
            if (!word) return word;
            
            let result;
            
            switch(person) {
                case '1sg':
                    result = addFirstSingularPossessive(word);
                    break;
                case '2sg':
                    result = addSecondSingularPossessive(word);
                    break;
                case '3sg':
                    result = addThirdSingularPossessive(word);
                    break;
                case '1pl':
                    result = addFirstPluralPossessive(word);
                    break;
                case '2pl':
                    result = addSecondPluralPossessive(word);
                    break;
                case '3pl':
                    result = addThirdPluralPossessive(word);
                    break;
                default:
                    result = word;
            }
            
            if (plural) {
                result = addPluralSuffix(result);
            }
            
            return result;
        }

        // HTML ile etkileşim
        document.getElementById('conjugate-btn').addEventListener('click', function() {
            const word = document.getElementById('word').value.trim();
            const person = document.getElementById('person').value;
            const plural = document.getElementById('plural').checked;
            
            if (!word) {
                alert('Lütfen bir Çuvaşça kelime girin!');
                return;
            }
            
            const result = conjugateChuvash(word, person, plural);
            
            // Sonuçları göster
            document.getElementById('result').textContent = result;
            
            const personNames = {
                '1sg': '1. tekil şahıs (benim)',
                '2sg': '2. tekil şahıs (senin)',
                '3sg': '3. tekil şahıs (onun)',
                '1pl': '1. çoğul şahıs (bizim)',
                '2pl': '2. çoğul şahıs (sizin)',
                '3pl': '3. çoğul şahıs (onların)'
            };
            
            document.getElementById('explanation').textContent = 
                `${word} kelimesinin ${personNames[person]} iyelik hali ${plural ? '(çoğul)' : '(tekil)'}`;
            
            document.getElementById('result-section').style.display = 'block';
        });
    </script>
</body>
                  </html>
